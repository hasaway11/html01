<html>
  <body>
    <input type="text" id="title" placeholder="할일 입력">
    <button onclick="addTodo()">추가</button>
    <hr>
    <table>
      <thead>
        <tr>
          <th>번호</th><th>할일</th><th>작성일</th><th></th>
        </tr>
      </thead>
      <tbody id="target">
      </tbody>
    </table>
    <script>
      const todos=[{tno:1, title:'운동하기', day:'2024-07-26'}];
      let tno = 2;
      function printTodos() {
        const target = document.getElementById('target');
        // 기존에 출력된 할일들을 모두 삭제
        target.innerHTML ='';
        for(let i=0;i<todos.length;i++) {
          const html = `
            <tr>
              <td>${todos[i].tno}</td>
              <td>${todos[i].title}</td>
              <td>${todos[i].day}</td>
              <td><button onclick='deleteTodo(${i})'>삭제</button></td>
            </tr>
          `;
          target.innerHTML = target.innerHTML + html;
        }
      }
      printTodos();

      function addTodo() {
        const title = document.getElementById('title').value;
        // 자바스크립트에게 현재 날짜 객체를 만들어주세요(new 객체이름() )
        const dateObject = new Date();
        // 날짜 객체에게 현재 날짜를 달라고 요청(메소드)
        const day = dateObject.toLocaleDateString();
        // 변수를 가지고 객체만들기
        const newTodo = {tno:tno, title:title, day:day};
        tno++;
        todos.push(newTodo);
        printTodos();
      }
      function deleteTodo(인덱스) {
        // todos.splice(인덱스, 개수)
        todos.splice(인덱스, 1);
        printTodos();
      }
    </script>
  </body>
</html>